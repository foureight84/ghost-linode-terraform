## rclone & docker

Rclone is a commandline program that manages your cloud storage accounts.

This presents a nice solution to backing up small amount of data and provides portability in the even that you decide to switch hosts. For this project I am using Google Drive, but you could use any cloud storage supported by rclone.

You will need a congfiguration file from an existing rclone setup and drop it into the `config` directory. 

### `docker-compose.yaml`

Depending on your particular rclone setup, make note of the name you entered for the cloud service during the rclone setup wizard. I named my Google Drive connection `gdrive`. This is important aas you will need to modify the `docker-compose.yaml` command to reflect your use case.

```command: "mount gdrive: /data"``` (replace 'gdrive' as needed).

### `backup.sh`

Intended as a cron script and cron entry is generated by Linode's stackscript on first boot. On execution, this will tarball your ghost blog directory and store the archive in your rclone mounted path. The script also checks for an existing `latest.tgz` archive and renames that to `backup-\*yesterday's date\*.tgz`.

By default, the script will prune backups older than `7 days`. That number can be customized by changing the `days=n` variable.